#!/bin/sh

### BEGIN INIT INFO
# Provides:             scout_agent
# Required-Start:       $all
# Required-Stop:        $all
# Default-Start:        2 3 4 5
# Default-Stop:         0 1 6
# Short-Description:    Scout
### END INIT INFO

NAME=scout_agent
DESC="scout reporting agent"

set -e

# Make sure the binary and the config file are present before proceeding
test -x /usr/bin/scout_agent || exit 0

. /lib/lsb/init-functions


RETVAL=0


case "$1" in
start)
  echo -n "Starting $DESC: "
  /usr/bin/scout_agent start
  RETVAL=$?
  echo "$NAME."
  ;;
stop)
  echo -n "Stopping $DESC: "
  /usr/bin/scout_agent stop
  RETVAL=$?
  echo "$NAME."
  ;;
restart)
  echo -n "Restarting $DESC: "
  /usr/bin/scout_agent stop
  /usr/bin/scout_agent start
  RETVAL=$?
  echo "$NAME."
  ;;
status)
  /usr/bin/scout_agent status
  RETVAL=$?
  ;;
*)
  echo "Usage: scout_agent {start|stop|restart|status}"
  exit 1
  ;;
esac